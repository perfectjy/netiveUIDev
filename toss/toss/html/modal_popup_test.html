<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-compatible" content="IE=edge, chrome=1" />
    <title>make a modalPopup</title>
    <link rel="stylesheet" type="text/css" href="../asset/css/guide.css">
    <script type="text/javascript" src="../asset/js/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <h1>Modal Popup</h1>
    </header>
    <div class="wrap">
        
        <div class="guide_info">
            <button type="button" class="btn line" data-modal-btn="dialogBottom">커튼 팝업</button>
        </div>

        <!-- dialog Bottom -->
        <div class="dialog bottom" data-modal="dialogBottom">
            <div class="dialog_wrap m">
                <div class="dialog_header">
                    <h1>Title</h1>
                </div>
                <div class="dialog_content">
                    <div class="section">
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                       <p>레이어 내용</p>
                    </div>
                </div>
                <div class="dialog_footer">
                    <div class="dialog_btn_wrap">
                        <button type="button" class="btn primary dialog_close">확인</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script>
        ;(function(win, doc) {
            'use strict';

            const global = 'netiveUI';
            win[global] = {};
        
            const Global = win[global];
            
            var aaa = function() {
                
            }

            Global.modalPopup = {
                modalWrap: null,
                modalBtn: null,
                modalCloseBtns: null,
                html: null,
                modalOpen: function() {
                    const e = this;
                    e.modalWrap.classList.add('show');
                    e.html.classList.add('dialog_active');
                },
                modalClose: function() {
                    const e = this;
                    e.modalWrap.classList.remove('show');
                    e.html.classList.remove('dialog_active');
                },
                init : function(opt) {
                    const e = this;
                    e.id = opt.id;
                    e.modalWrap = document.querySelector('[data-modal="'+ e.id +'"]');
                    e.modalBtn = document.querySelector('[data-modal-btn="'+ e.id +'"]');
                    e.modalCloseBtns = e.modalWrap.querySelectorAll('.dialog_close');                    
                    e.html = document.querySelector('html');

                    console.log(e.modalWrap)
                    
                    // e.modalBtn.addEventListener('click', e.modalOpen);
                    e.modalBtn.addEventListener('click', function() {
                        e.modalOpen();
                    });

                    [].forEach.call(e.modalCloseBtns, function(closeBtn){
                        closeBtn.addEventListener('click', function() {
                            e.modalClose();
                        });
                    });
                }
            }
            Global.modalPopup.init({
                id:'dialogBottom',
                aaa: function(){
                    //////////
                }
            });
            
            
            Global.broswerCheck = {
                init : function() {
                    const user = navigator.userAgent; 
                    const iosCheck = user.indexOf("iPhone");
                    const androidCheck = user.indexOf("Android");
                    const iPadCheck = user.indexOf("iPhone");
                    const html = document.querySelector('html');
                    let is_mobile = false; 

                    if( iosCheck > -1 ||  androidCheck > -1 || iPadCheck > -1 ) { 
                        is_mobile = true;
                        console.log('mob');
                        
                        html.classList.add('mob');
                    } else {
                        is_mobile = false;
                        console.log('pc');
                    }
                    return is_mobile; 
                }
            }
            Global.broswerCheck.init(); // 브라우저 체크

        })(window, document);
    </script>
    <script>
    </script>
</body>
</html>

